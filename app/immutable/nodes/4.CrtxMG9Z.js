import{t as S,a as g}from"../chunks/i3BjmpM2.js";import{Z as b,_ as h,$ as y,a0 as p,a2 as P,a1 as d,j as v}from"../chunks/Ddu1Jl4_.js";import{s as u}from"../chunks/ByWB01Zr.js";import{e as D,i as L}from"../chunks/DOu1D6ee.js";import{s as U}from"../chunks/oyWMXdNp.js";import"../chunks/Ydq99WIg.js";const I="always",O=!1,R=!1,j=!0;async function w({url:a,params:r}){let e={};const c=a.searchParams.has("elfURLData"),i=localStorage.getItem("lastOpenElfURL"),o=c?decodeURIComponent(a.searchParams.get("elfURLData")):i;if(o){const _=await(await fetch(o)).json();localStorage.lastOpenElfURL=o,localStorage.elfStorageDate=new Date().toISOString(),e.symbols=_,console.log("Loaded elf data"),e.elfDataProvided=!0}else console.log("Loaded elf data",o,Object.keys(symbols.symbols).length);if(a.searchParams.has("selected_version")){const t=a.searchParams.get("selected_version");localStorage.selected_version=t,e.selected_version=t}else localStorage.getItem("selected_version")&&(e.selected_version=localStorage.getItem("selected_version"));if(a.searchParams.has("symbols.selected_versions_to_compare")){const t=a.searchParams.get("symbols.selected_versions_to_compare");localStorage.selected_versions_to_compare=t,e.selected_versions_to_compare=t}else localStorage.getItem("selected_versions_to_compare")&&(e.selected_versions_to_compare=localStorage.getItem("selected_versions_to_compare"));const s=r.symbol_name,l=r.symbol_name.split("/").length;return console.log(s),e.currentSubfolders=new Set(e.symbols[e.selected_version].symbols.map(t=>{let _=t.file.substr(s.length),n=_.split("/");return console.log(s,t.file,l,n.length-l,_,n,n.length),t.file.startsWith(s)&&n.length-l>=2?n[0]:""}).filter(t=>t!=="")),e.currentSubfiles=e.symbols[e.selected_version].symbols.filter(t=>t.file.startsWith(s)),e}const A=Object.freeze(Object.defineProperty({__proto__:null,csr:j,load:w,prerender:O,ssr:R,trailingSlash:I},Symbol.toStringTag,{value:"Module"}));var x=S("<li><a> </a></li>"),E=S('<div class="flex svelte-1l8uj30"> <a href="/symbols/home/p4w5/git/cannecti/cannectivity/app/">test</a> <ul></ul></div>');function J(a,r){b(r,!0);var e=E(),c=p(e),i=P(c,3);D(i,21,()=>r.data.currentSubfolders,L,(o,f)=>{var m=x(),s=p(m),l=p(s,!0);d(s),d(m),h(()=>{U(s,"href",`./${v(f)??""}`),u(l,v(f))}),g(o,m)}),d(i),d(e),h(o=>u(c,`${o??""} `),[()=>JSON.stringify(r.data.currentSubfolders)]),g(a,e),y()}export{J as component,A as universal};
